{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\power\\\\Desktop\\\\Vue\\\\react_e-commerce\\\\e-commerce\\\\src\\\\components\\\\Home.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Home(props) {\n  const [products, setProducts] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [sort, setSort] = useState(\"lowest\");\n  useEffect(() => {\n    const fetch = async () => {\n      let {\n        data\n      } = await axios.get(\"/api/products\");\n\n      if (props.location && props.location.search) {\n        const category = props.location.search.split(\"=\")[1];\n        data = data.filter(product => product.category === category);\n      }\n\n      if (search) {\n        const lowerCase = search.toLowerCase();\n        data = data.filter(product => product.name.toLowerCase().includes(lowerCase));\n      }\n\n      if (sort === \"lowest\") {\n        data.sort((a, b) => a.price > b.price ? 1 : -1);\n      } else {\n        data.sort((a, b) => a.price < b.price ? 1 : -1);\n      }\n\n      setProducts(data);\n    };\n\n    fetch();\n  }, [products, search, sort]);\n  const productsHtml = products.map(product => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-5\",\n      style: {\n        width: \"33%\"\n      },\n      key: product._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      style: {\n        width: \"18rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/products/' + product._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"card-img-top\",\n      src: \"/images/\" + product.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 59\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/products/' + product._id,\n      style: {\n        textDecoration: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 29\n      }\n    }, product.name)), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, product.brand), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 29\n      }\n    }, \"$\", product.price), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, product.rating)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }))));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3 mr-2\",\n    style: {\n      width: \"15rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text\",\n    id: \"inputGroup-sizing-default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    \"aria-label\": \"Default\",\n    \"aria-describedby\": \"inputGroup-sizing-default\",\n    onChange: e => {\n      setSearch(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    style: {\n      width: \"15rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"input-group-text\",\n    htmlFor: \"inputGroupSelect01\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Sort by\")), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"custom-select\",\n    id: \"inputGroupSelect01\",\n    onChange: e => {\n      setSort(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"lowest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, \"Lowest Price\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"highest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Highest Price\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-wrap container mt-4\",\n    style: {\n      flexWrap: \"wrap\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, productsHtml));\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/power/Desktop/Vue/react_e-commerce/e-commerce/src/components/Home.js"],"names":["React","useEffect","useState","Link","axios","Home","props","products","setProducts","search","setSearch","sort","setSort","fetch","data","get","location","category","split","filter","product","lowerCase","toLowerCase","name","includes","a","b","price","productsHtml","map","width","_id","image","textDecoration","brand","rating","e","target","value","flexWrap"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\n\r\nfunction Home (props) {\r\n    const [products, setProducts] = useState([]);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [sort, setSort] = useState(\"lowest\");\r\n\r\n    useEffect( () => {\r\n        const fetch = async () => {\r\n            let {data} = await axios.get(\"/api/products\");\r\n\r\n            if(props.location && props.location.search){\r\n                const category = props.location.search.split(\"=\")[1];\r\n\r\n                data = data.filter(product => product.category === category);\r\n            }\r\n\r\n            if(search){\r\n                const lowerCase = search.toLowerCase();\r\n                data = data.filter(product => product.name.toLowerCase().includes(lowerCase));\r\n            }\r\n\r\n            if(sort === \"lowest\"){\r\n                data.sort((a, b) => a.price > b.price ? 1 : -1)\r\n            }\r\n            else{\r\n                data.sort((a, b) => a.price < b.price ? 1 : -1)\r\n            }\r\n\r\n            setProducts(data)\r\n        }\r\n\r\n        fetch();\r\n        }, [products, search, sort])\r\n\r\n    const productsHtml = products.map(product => {\r\n        return (\r\n            <div className=\"mb-5\" style={{width: \"33%\"}} key={product._id}>\r\n                <div className=\"card\" style={{width: \"18rem\"}}>\r\n                    <Link to={'/products/' + product._id}><img className=\"card-img-top\" src={\"/images/\" + product.image}/></Link>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">\r\n                            <Link to={'/products/' + product._id} style={{textDecoration: \"none\"}}>\r\n                                {product.name}\r\n                            </Link>\r\n                        </h5>\r\n                        <small className=\"card-text\">{product.brand}</small>\r\n                        <div>\r\n                            <strong className=\"card-text\">${product.price}</strong>\r\n                            <span>{product.rating}</span>\r\n                        </div>\r\n                        <br/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"mt-5 d-flex justify-content-center\">\r\n                <div className=\"input-group mb-3 mr-2\" style={{width: \"15rem\"}}>\r\n                    <div className=\"input-group-prepend\">\r\n                        <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">Search</span>\r\n                    </div>\r\n                    <input type=\"text\" className=\"form-control\" aria-label=\"Default\"\r\n                           aria-describedby=\"inputGroup-sizing-default\" onChange={(e) => {setSearch(e.target.value)}}/>\r\n                </div>\r\n\r\n                <div className=\"input-group mb-3\" style={{width: \"15rem\"}}>\r\n                    <div className=\"input-group-prepend\">\r\n                        <label className=\"input-group-text\" htmlFor=\"inputGroupSelect01\">Sort by</label>\r\n                    </div>\r\n                    <select className=\"custom-select\" id=\"inputGroupSelect01\" onChange={(e) => {setSort(e.target.value)}}>\r\n                        <option value=\"lowest\">Lowest Price</option>\r\n                        <option value=\"highest\">Highest Price</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex flex-wrap container mt-4\" style={{flexWrap: \"wrap\"}}>\r\n                {productsHtml}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\power\\\\Desktop\\\\Vue\\\\react_e-commerce\\\\e-commerce\\\\src\\\\components\\\\Home.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from \"react-redux\";\n\nfunction Home(props) {\n  const dispatch = useDispatch();\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetch = async () => {\n      let {\n        data\n      } = await axios.get(\"/api/products\");\n\n      if (props.location && props.location.search) {\n        const category = props.location.search.split(\"=\")[1];\n        data = data.filter(product => product.category === category);\n      } // dispatch(\n      //     {\n      //         type: \"products_list_success\",\n      //         payload: data\n      //     }\n      // );\n\n\n      setProducts(data);\n    };\n\n    fetch();\n  }, [products]); // const productsList = useSelector( (state) => {\n  //     return state.productsList\n  // });\n  // const {products} = productsList;\n\n  const productsHtml = products.map(product => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-5\",\n      style: {\n        width: \"33%\"\n      },\n      key: product._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      style: {\n        width: \"18rem\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/products/' + product._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"card-img-top\",\n      src: \"/images/\" + product.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 59\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/products/' + product._id,\n      style: {\n        textDecoration: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 29\n      }\n    }, product.name)), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }, product.brand), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, \"$\", product.price), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, product.numberOfReviews))));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-wrap container mt-5\",\n    style: {\n      flexWrap: \"wrap\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, productsHtml);\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/power/Desktop/Vue/react_e-commerce/e-commerce/src/components/Home.js"],"names":["React","useEffect","useState","Link","axios","useDispatch","useSelector","Home","props","dispatch","products","setProducts","fetch","data","get","location","search","category","split","filter","product","productsHtml","map","width","_id","image","textDecoration","name","brand","price","numberOfReviews","flexWrap"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;;AAEA,SAASC,IAAT,CAAeC,KAAf,EAAsB;AAClB,QAAMC,QAAQ,GAAGJ,WAAW,EAA5B;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAE,MAAM;AACb,UAAMW,KAAK,GAAG,YAAY;AACtB,UAAI;AAACC,QAAAA;AAAD,UAAS,MAAMT,KAAK,CAACU,GAAN,CAAU,eAAV,CAAnB;;AAEA,UAAGN,KAAK,CAACO,QAAN,IAAkBP,KAAK,CAACO,QAAN,CAAeC,MAApC,EAA2C;AACvC,cAAMC,QAAQ,GAAGT,KAAK,CAACO,QAAN,CAAeC,MAAf,CAAsBE,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAjB;AAEAL,QAAAA,IAAI,GAAGA,IAAI,CAACM,MAAL,CAAYC,OAAO,IAAIA,OAAO,CAACH,QAAR,KAAqBA,QAA5C,CAAP;AACH,OAPqB,CAStB;AACA;AACA;AACA;AACA;AACA;;;AACAN,MAAAA,WAAW,CAACE,IAAD,CAAX;AACH,KAhBD;;AAkBAD,IAAAA,KAAK;AACR,GApBQ,EAoBN,CAACF,QAAD,CApBM,CAAT,CAJkB,CA0BlB;AACA;AACA;AACA;;AAEA,QAAMW,YAAY,GAAGX,QAAQ,CAACY,GAAT,CAAaF,OAAO,IAAI;AACzC,wBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,KAAK,EAAE;AAACG,QAAAA,KAAK,EAAE;AAAR,OAA7B;AAA6C,MAAA,GAAG,EAAEH,OAAO,CAACI,GAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAsB,MAAA,KAAK,EAAE;AAACD,QAAAA,KAAK,EAAE;AAAR,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,eAAeH,OAAO,CAACI,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAsC;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,GAAG,EAAE,aAAaJ,OAAO,CAACK,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtC,CADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,eAAeL,OAAO,CAACI,GAAjC;AAAsC,MAAA,KAAK,EAAE;AAACE,QAAAA,cAAc,EAAE;AAAjB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKN,OAAO,CAACO,IADb,CADJ,CADJ,eAMI;AAAO,MAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BP,OAAO,CAACQ,KAAtC,CANJ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAQI;AAAQ,MAAA,SAAS,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAgCR,OAAO,CAACS,KAAxC,CARJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIT,OAAO,CAACU,eAAZ,CATJ,CAFJ,CADJ,CADJ;AAkBH,GAnBoB,CAArB;AAqBA,sBACI;AAAK,IAAA,SAAS,EAAC,iCAAf;AAAiD,IAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAE;AAAX,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKV,YADL,CADJ;AAKH;;AAED,eAAed,IAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nfunction Home (props) {\r\n    const dispatch = useDispatch();\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect( () => {\r\n        const fetch = async () => {\r\n            let {data} = await axios.get(\"/api/products\");\r\n\r\n            if(props.location && props.location.search){\r\n                const category = props.location.search.split(\"=\")[1];\r\n\r\n                data = data.filter(product => product.category === category);\r\n            }\r\n\r\n            // dispatch(\r\n            //     {\r\n            //         type: \"products_list_success\",\r\n            //         payload: data\r\n            //     }\r\n            // );\r\n            setProducts(data)\r\n        }\r\n\r\n        fetch();\r\n    }, [products])\r\n\r\n    // const productsList = useSelector( (state) => {\r\n    //     return state.productsList\r\n    // });\r\n    // const {products} = productsList;\r\n\r\n    const productsHtml = products.map(product => {\r\n        return (\r\n            <div className=\"mb-5\" style={{width: \"33%\"}} key={product._id}>\r\n                <div className=\"card\" style={{width: \"18rem\"}}>\r\n                    <Link to={'/products/' + product._id}><img className=\"card-img-top\" src={\"/images/\" + product.image}/></Link>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">\r\n                            <Link to={'/products/' + product._id} style={{textDecoration: \"none\"}}>\r\n                                {product.name}\r\n                            </Link>\r\n                        </h5>\r\n                        <small className=\"card-text\">{product.brand}</small>\r\n                        <br/>\r\n                        <strong className=\"card-text\">${product.price}</strong>\r\n                        <p>{product.numberOfReviews}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"d-flex flex-wrap container mt-5\" style={{flexWrap: \"wrap\"}}>\r\n            {productsHtml}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}